<!DOCTYPE html>
<html>
<head>
    <title>Income Page</title>
    <style>
                /* Gaya untuk sidebar yang muncul */
                .active-sidebar {
            left: 0;
        }

        /* Gaya untuk tombol hamburger */
        .hamburger {
            position: fixed;
            top: 20px;
            left: 20px;
            font-size: 24px;
            cursor: pointer;
            color: #fff;
            z-index: 1;
        }
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        

        /* Gaya header */
        .header {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px 30px;
            background: #2d2d2d;
            color: #fff;
            box-shadow: 0px 5px 10px rgba(90, 116, 148, 0.3);
            border-radius: 5px;
        }

        .header i {
            font-size: 30px;
            cursor: pointer;
            color: #fff;
        }

        /* Gaya untuk sidebar */
        .side-bar {
            width: 250px;
            min-height: 100vh;
            background: #2d2d2d;
            transition: left 0.5s;
            left: -250px;
            position: fixed;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.16);
        }

        .side-bar.active-sidebar {
            left: 0;
        }

        .user-p {
            text-align: center;
            padding: 20px 0;
        }

        .user-p img {
            width: 100px;
            border-radius: 50%;
        }

        .user-p h4 {
            color: #ccc;
        }

        .side-bar ul {
            list-style: none;
            padding: 0;
        }

        .side-bar ul li {
            margin: 0;
            padding: 0;
        }

        .side-bar ul li a {
            color: #eee;
            text-decoration: none;
            display: block;
            padding: 15px 20px;
        }

        .side-bar ul li a:hover {
            background-color: #0085ff;
        }
        /* CSS untuk body */
body {
    font-family: Arial, sans-serif;
    background-color: #1E1E1E;
    margin: 0;
    padding: 0;
}

/* CSS untuk judul */
h1 {
    text-align: center;
    background-color: #2d2d2d;
    color: #fff;
    padding: 20px;
    margin: 0;
}

/* CSS untuk tabel */
table {
    border-collapse: collapse;
    width: 95%;
    margin: 20px auto;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    background-color: #fff;
    padding: 10px;
}

table, th, td {
    border: 1px solid #ccc;
}

th, td {
    padding: 10px;
    text-align: left;
    margin: 10px; /* Tambahkan margin pada elemen-elemen dalam tabel */
}

/* CSS untuk header kolom */
th {
    background-color: #006fff;
    color: #e1ffff;
}

/* CSS untuk input dan select */
select, input[type="text"] {
    width: 100%;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
}

/* CSS untuk tombol aksi */
.action-btn {
    text-align: center;
    margin: 20px 0;
}

/* CSS untuk modal */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
}

/* CSS untuk konten modal */
.modal-content {
    background-color: #1E1E1E;
    padding: 20px;
    width: 60%;
    margin: 10% auto;
    border-radius: 5px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
}

/* CSS untuk judul dalam modal */
.modal-content h2 {
    text-align: center;
    margin-bottom: 20px;
    color: #fff;
}

/* CSS untuk input dan select dalam modal */
.modal-content input, .modal-content select {
    width: 95%;
    padding: 10px;
    margin-bottom: 20px;
    border: 1px solid #ccc;
    border-radius: 5px;
}

/* CSS untuk tombol dalam modal */
.modal-content button {
    background-color: #454545;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
}

/* CSS untuk tombol pertama dalam modal */
.modal-content button:first-child {
    background-color: black;
    margin-right: 10px;
}

/* CSS untuk tombol aksi di luar modal */
.action-btn button {
    background-color: #0085ff;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
}

/* CSS untuk tombol aksi di luar modal saat hover */
.action-btn button:hover {
    background-color: #69b4ff;
}

    </style>
</head>

<body>
    <!-- Tombol hamburger untuk membuka/menutup sidebar -->
    <div class="hamburger" onclick="toggleSidebar()">&#9776;</div>

    <!-- Sidebar -->
    <div class="side-bar" id="sidebar">
        <div class="user-p">
            <img src="images/logo.png" alt="Logo">
            <h4>Keuangan KU</h4>
        </div>
        <ul>
            <li>
                <a href="Dashboard.html">
                    <i class="fa fa-desktop" aria-hidden="true"></i>
                    <span>Dashboard</span>
                </a>
            </li>
            <li>
                <a href="Income.html">
                    <i class="fa fa-envelope-o" aria-hidden="true"></i>
                    <span>Income</span>
                </a>
            </li>
            <li>
                <a href="Expenses.html">
                    <i class="fa fa-comment-o" aria-hidden="true"></i>
                    <span>Expenses</span>
                </a>
            </li>
            <li>
                <a href="Calendar.html">
                    <i class="fa fa-comment-o" aria-hidden="true"></i>
                    <span>Calendar</span>
                </a>
            </li>
            <li>
                <a href="Chatbot.html">
                    <i class="fa fa-comment-o" aria-hidden="true"></i>
                    <span>Financial Planner</span>
                </a>
            </li>
            <li>
                <a href="Calculator.html">
                    <i class="fa fa-comment-o" aria-hidden="true"></i>
                    <span>Calculator</span>
                </a>
            </li>
            <li>
                <a href="About.html">
                    <i class="fa fa-info-circle" aria-hidden="true"></i>
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="index.html">
                    <i class="fa fa-power-off" aria-hidden="true"></i>
                    <span>Logout</span>
                </a>
            </li>
        </ul>
    </div>

    <!-- Table -->
    <h1>Income</h1>
    <table>
        <thead>
            <tr>
                <th>Tanggal</th>
                <th>Pilih Rekening</th>
                <th>Jumlah</th>
                <th>Kategori</th>
                <th>Keterangan</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            
            <!-- Tabel isi data akan muncul di sini -->
        </tbody>
    </table>
    <div class="action-btn">
        <button onclick="openModal()">Tambah Data</button>
    </div>

    <!-- Pop-up untuk Tambah Data -->
    <div id="dataModal" class="modal">
        <div class="modal-content">
            <h2>Tambah Data</h2>
            <input type="date" id="addDate" placeholder="Tanggal">
            <select id="addAccount">
                <option value="cash">Uang Tunai</option>
                <option value="ewallet">Dompet Digital</option>
                <option value="mbanking">M-Banking</option>
            </select>
            <input type="text" id="addAmount" placeholder="Jumlah">
            <select id="addCategory">
                <option value="salary">Gaji</option>
                <option value="savings">Tabungan</option>
                <option value="refund">Pengembalian Dana</option>
                <option value="investment">Investasi</option>
                <option value="freelance">Freelance</option>
            </select>
            <input type="text" id="addDescription" placeholder="Keterangan">
            <button onclick="addRow()">Tambah</button>
            <button onclick="closeModal()">Batal</button>
        </div>
    </div>

    <!-- Pop-up untuk Edit Data -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <h2>Edit Data</h2>
            <input type="date" id="editDate" placeholder="Tanggal">
            <select id="editAccount">
                <option value="cash">Uang Tunai</option>
                <option value="ewallet">Dompet Digital</option>
                <option value="mbanking">M-Banking</option>
            </select>
            <input type="text" id="editAmount" placeholder="Jumlah">
            <select id="editCategory">
                <option value="salary">Gaji</option>
                <option value="savings">Tabungan</option>
                <option value="refund">Pengembalian Dana</option>
                <option value="investment">Investasi</option>
                <option value="freelance">Freelance</option>
            </select>
            <input type="text" id="editDescription" placeholder="Keterangan">
            <button id="saveEditButton">Simpan</button>
            <button onclick="closeEditModal()">Batal</button>
        </div>
    </div>
    <script>
        // Array untuk menyimpan data transaksi
var data = [];

// Fungsi untuk membuka modal tambah data
function openModal() {
    var modal = document.getElementById('dataModal');
    modal.style.display = 'block';
}

// Fungsi untuk menutup modal
function closeModal() {
    var modal = document.getElementById('dataModal');
    modal.style.display = 'none';
}

// Fungsi untuk menambahkan baris data ke tabel
function addRow() {
    var date = document.getElementById('addDate').value;
    var account = document.getElementById('addAccount').value;
    var amount = document.getElementById('addAmount').value;
    var category = document.getElementById('addCategory').value;
    var description = document.getElementById('addDescription').value;

    // Menambahkan data ke array
    data.push({ date, account, amount, category, description });

    // Memperbarui tabel
    updateTable();

    // Menutup modal
    closeModal();
}

// Fungsi untuk memperbarui tabel dengan data yang ada dalam array
function updateTable() {
    var table = document.querySelector('table');
    var tbody = table.querySelector('tbody');
    tbody.innerHTML = '';

    for (var i = 0; i < data.length; i++) {
        var newRow = tbody.insertRow(-1);

        var dateCell = newRow.insertCell(0);
        var accountCell = newRow.insertCell(1);
        var amountCell = newRow.insertCell(2);
        var categoryCell = newRow.insertCell(3);
        var descriptionCell = newRow.insertCell(4);
        var actionCell = newRow.insertCell(5);

        dateCell.innerHTML = data[i].date;
        accountCell.innerHTML = data[i].account;
        // Menampilkan jumlah dengan format mata uang Rupiah
        amountCell.innerHTML = formatAsRupiah(data[i].amount);
        categoryCell.innerHTML = data[i].category;
        descriptionCell.innerHTML = data[i].description;

        // Tombol untuk menyunting dan menghapus data
        var editButton = document.createElement('button');
        editButton.textContent = 'Edit';
        editButton.onclick = function (index) {
            return function () {
                editRow(index);
            };
        }(i);

        var deleteButton = document.createElement('button');
        deleteButton.textContent = 'Delete';
        deleteButton.onclick = function (index) {
            return function () {
                deleteRow(index);
            };
        }(i);

        actionCell.appendChild(editButton);
        actionCell.appendChild(deleteButton);
    }
}

// Fungsi untuk menyunting data
function editRow(index) {
    var modal = document.getElementById('editModal');
    modal.style.display = 'block';

    // Mengisi input dalam modal penyuntingan dengan data yang akan disunting
    document.getElementById('editDate').value = data[index].date;
    document.getElementById('editAccount').value = data[index].account;
    document.getElementById('editAmount').value = data[index].amount;
    document.getElementById('editCategory').value = data[index].category;
    document.getElementById('editDescription').value = data[index].description;

    // Menyimpan data setelah disunting
    var saveEditButton = document.getElementById('saveEditButton');
    saveEditButton.onclick = function () {
        data[index].date = document.getElementById('editDate').value;
        data[index].account = document.getElementById('editAccount').value;
        data[index].amount = document.getElementById('editAmount').value;
        data[index].category = document.getElementById('editCategory').value;
        data[index].description = document.getElementById('editDescription').value;
        updateTable();
        closeEditModal();
    };
}

// Fungsi untuk menutup modal penyuntingan
function closeEditModal() {
    var modal = document.getElementById('editModal');
    modal.style.display = 'none';
}

// Fungsi untuk menghapus data dari array
function deleteRow(index) {
    data.splice(index, 1);
    updateTable();
}

// Fungsi untuk mengformat jumlah sebagai mata uang Rupiah
function formatAsRupiah(amount) {
    // Format angka menjadi mata uang Rupiah dengan separator ribuan
    return 'Rp ' + new Intl.NumberFormat('id-ID').format(amount);
}

// Inisialisasi awal dengan data contoh
data.push({ date: '2023-10-20', account: 'cash', amount: 100000, category: 'salary', description: 'Gaji bulan ini' });

// Memperbarui tabel dengan data awal
updateTable();
function toggleSidebar() {
    var sidebar = document.getElementById("sidebar");
    sidebar.classList.toggle("active-sidebar");
}
    </script>
</body>
</html>
